<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="禁用activity跳转动画的几种方式12intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);ps：经测试不是太管用。 123&amp;lt;style name=&amp;quot;noAnimTheme&amp;quot; parent=&amp;quot;android:Theme&amp;quot;&amp;gt;   &amp;lt;item name=&amp;quot;android:windo">
<meta property="og:type" content="article">
<meta property="og:title" content="零碎问题笔记，长期更新">
<meta property="og:url" content="http://yoursite.com/2017/03/17/2017-03-17-note/index.html">
<meta property="og:site_name" content="henry blog">
<meta property="og:description" content="禁用activity跳转动画的几种方式12intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);ps：经测试不是太管用。 123&amp;lt;style name=&amp;quot;noAnimTheme&amp;quot; parent=&amp;quot;android:Theme&amp;quot;&amp;gt;   &amp;lt;item name=&amp;quot;android:windo">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-09-30T03:13:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="零碎问题笔记，长期更新">
<meta name="twitter:description" content="禁用activity跳转动画的几种方式12intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);ps：经测试不是太管用。 123&amp;lt;style name=&amp;quot;noAnimTheme&amp;quot; parent=&amp;quot;android:Theme&amp;quot;&amp;gt;   &amp;lt;item name=&amp;quot;android:windo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/03/17/2017-03-17-note/"/>





  <title>零碎问题笔记，长期更新 | henry blog</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?685707a993a8a29f9a7637ee1b1c42c4";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">henry blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/17/2017-03-17-note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="henry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="henry blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">零碎问题笔记，长期更新</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-17T15:20:41+08:00">
                2017-03-17
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/17/2017-03-17-note/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/17/2017-03-17-note/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <ul>
<li><h4 id="禁用activity跳转动画的几种方式"><a href="#禁用activity跳转动画的几种方式" class="headerlink" title="禁用activity跳转动画的几种方式"></a>禁用activity跳转动画的几种方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);</span><br><span class="line">ps：经测试不是太管用。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=&quot;noAnimTheme&quot; parent=&quot;android:Theme&quot;&gt;</span><br><span class="line">   &lt;item name=&quot;android:windowAnimationStyle&quot;&gt;@null&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">activity.overridePendingTransition(0, 0);</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="getDimension-、getDimensionPixelOffset-和getDimensionPixelSize-区别"><a href="#getDimension-、getDimensionPixelOffset-和getDimensionPixelSize-区别" class="headerlink" title="getDimension()、getDimensionPixelOffset()和getDimensionPixelSize()区别"></a>getDimension()、getDimensionPixelOffset()和getDimensionPixelSize()区别</h4><p>三者返回的值都相似。</p>
<p>getDimension返回的是float；</p>
<p>getDimensionPixelSize返回值是int，并且小数四舍五入；</p>
<p>getDimensionPixelOffset返回值是int，直接略去小数位，即取整。</p>
</li>
<li><h4 id="mac复制路径"><a href="#mac复制路径" class="headerlink" title="mac复制路径"></a>mac复制路径</h4><p>文件夹顶部显示完整路径名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.finder _FXShowPosixPathInTitle -bool YES</span><br></pre></td></tr></table></figure>
<p>复制路径可以用 Option+Command+C</p>
</li>
<li><h4 id="修改环境变量"><a href="#修改环境变量" class="headerlink" title="修改环境变量"></a>修改环境变量</h4><ol>
<li><p>首先创建配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch .bash_profile</span><br></pre></td></tr></table></figure>
</li>
<li><p>打开配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open -e .bash_profile</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/Users/您的用户名/文件路径/platform-tools/</span><br></pre></td></tr></table></figure>
</li>
<li><p>生效配置文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source .bash_profile</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>xml中tools属性的使用</p>
<p>tools标签是为了帮助开发者在设计视图中渲染布局时的一套方便开发者的属性，该命名并不会被打进apk包内。</p>
<ol>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tools:text=&quot;Mastering ToolsNs&quot;</span><br></pre></td></tr></table></figure>
<p>使用该属性只会在设计视图中显示文字，运行时不会有该属性的存在。</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tools:targetApi=&quot;M&quot;</span><br></pre></td></tr></table></figure>
<p>指定api版本，避免lint检查报错。</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;fragment tools:layout=&quot;@layout/fragment_books&quot;/&gt;</span><br></pre></td></tr></table></figure>
<p>使用以上代码可以直接在设计视图中预览fragment的布局。</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.v7.widget.RecyclerView tools:listitem=&quot;@layout/fragment_book_list_item&quot;/&gt;</span><br></pre></td></tr></table></figure>
<p>这在设计视图界面显示指定的列表item设计，另外还有<code>tools:listheader</code> 和 <code>tools:listfooter</code>可在listView中使用。</p>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tools:context=&quot;.MainActivity&quot;</span><br></pre></td></tr></table></figure>
<p>如果单个xml文件多次在activity或fragment中被复用，使用此属性就告知了as哪个activity与之关联。</p>
</li>
</ol>
</li>
<li><h4 id="华为手机不打印log"><a href="#华为手机不打印log" class="headerlink" title="华为手机不打印log"></a>华为手机不打印log</h4><p>进入拨号界面输入：*#*#2846579#*#*</p>
<p>依次选择ProjectMenu—后台设置—-LOG设置—LOG开关 点击打开</p>
</li>
<li><h4 id="Fragment中的onHiddenChanged方法"><a href="#Fragment中的onHiddenChanged方法" class="headerlink" title="Fragment中的onHiddenChanged方法"></a>Fragment中的onHiddenChanged方法</h4><p>fragment第一次创建不会执行onHiddenChanged方法，onResume时也不会执行。</p>
</li>
<li><h4 id="Fragment中dialog-dismiss时onResume问题"><a href="#Fragment中dialog-dismiss时onResume问题" class="headerlink" title="Fragment中dialog dismiss时onResume问题"></a>Fragment中dialog dismiss时onResume问题</h4><p>fragment中dialog dismiss时不会调用onResume方法，如果使用DialogFragment则可以。</p>
</li>
<li><h4 id="PopupWindow实现点击外部不消失，且不占据焦点"><a href="#PopupWindow实现点击外部不消失，且不占据焦点" class="headerlink" title="PopupWindow实现点击外部不消失，且不占据焦点"></a>PopupWindow实现点击外部不消失，且不占据焦点</h4><p>设置三个方法：setFocusable(false)，setTouchable(true)，setOutsideTouchable(false)</p>
</li>
<li><h4 id="onDraw方法中最好不要创建对象"><a href="#onDraw方法中最好不要创建对象" class="headerlink" title="onDraw方法中最好不要创建对象"></a>onDraw方法中最好不要创建对象</h4><p>onDraw方法调用频繁，会不断进行创建和垃圾回收，影响ui性能。</p>
</li>
<li><h4 id="Fragment嵌套使用"><a href="#Fragment嵌套使用" class="headerlink" title="Fragment嵌套使用"></a>Fragment嵌套使用</h4><p>fragment嵌套的时候使用getChildFragmentManager来管理fragment。</p>
</li>
<li><h4 id="Retrofit和RxJava并用时需要注意的一点"><a href="#Retrofit和RxJava并用时需要注意的一点" class="headerlink" title="Retrofit和RxJava并用时需要注意的一点"></a>Retrofit和RxJava并用时需要注意的一点</h4><p>subscribe()如果使用Consumer作为参数，就必须要有两个Consumer实例作为参数，第一个处理请求成功的情况，第二个处理error的情况，如果不处理onError，无网络时会出现崩溃。</p>
</li>
<li><h4 id="Fragment事务处理commitAllowingStateLoss和commit"><a href="#Fragment事务处理commitAllowingStateLoss和commit" class="headerlink" title="Fragment事务处理commitAllowingStateLoss和commit"></a>Fragment事务处理commitAllowingStateLoss和commit</h4><p>使用commit有时会碰到Can not perform this action after onSaveInstanceState异常，建议使用commitAllowingStateLoss代替，但需要注意几点：</p>
<ol>
<li>在activity生命周期中提交事务要小心，越早越好，比如在onCreate中，避免在onActivityResult方法中提交。</li>
<li>避免在异步回调方法中执行commit，因为感知不要activity生命周期的变化。</li>
<li>使用commitAllowingStateLoss可能会造成ui状态的改变。</li>
</ol>
</li>
<li><h4 id="Activity和Fragment传递对象"><a href="#Activity和Fragment传递对象" class="headerlink" title="Activity和Fragment传递对象"></a>Activity和Fragment传递对象</h4><p>Activity通过setArguments(object)给Fragment传递对象时，object是被直接传递的，而两个activity之间通过putExtra(object)传递对象时，object是被复制了一份之后进行的传递。</p>
</li>
<li><h4 id="RxJava异常处理"><a href="#RxJava异常处理" class="headerlink" title="RxJava异常处理"></a>RxJava异常处理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.net.UnknownHostException: Unable to resolve host &quot;haojiazhang123.com&quot;: No address associated with hostname</span><br></pre></td></tr></table></figure>
<p>subscribe(Consumer&lt;? super T&gt; onNext ,Consumer&lt;? super Throwable&gt; onError)第二个onError处理不能缺少，否则就会报上面异常。                        </p>
</li>
<li><h4 id="lint检查new-api"><a href="#lint检查new-api" class="headerlink" title="lint检查new api"></a>lint检查new api</h4><p>检查newApi</p>
<p>Analyze—》run inspection by name—》calling new methods on older versions</p>
</li>
<li><h4 id="获取手机系统SDK版本"><a href="#获取手机系统SDK版本" class="headerlink" title="获取手机系统SDK版本"></a>获取手机系统SDK版本</h4><p>获取系统版本：adb shell getprop ro.build.version.release</p>
<p>获取系统api版本：adb shell getprop ro.build.version.sdk</p>
</li>
<li><h4 id="Dialog和DialogFragment的区别"><a href="#Dialog和DialogFragment的区别" class="headerlink" title="Dialog和DialogFragment的区别"></a>Dialog和DialogFragment的区别</h4><p>在不设置<code>android:configChanges=`</code>“orientation|screenSize`的情况下，旋转屏幕activity会onDestory，onCreate，如果是dialog，会抛出内存泄露的异常，并且会消失，而dialogFragment会保存状态，在旋转之后再次显示出来。</p>
</li>
<li><h4 id="设置全屏的方法"><a href="#设置全屏的方法" class="headerlink" title="设置全屏的方法"></a>设置全屏的方法</h4><ol>
<li>xml中静态注册:设置activity得theme为Theme.Light.NoTitleBar.Fullscreen</li>
<li>代码中动态设置：getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,        WindowManager.LayoutParams.FLAG_FULLSCREEN);</li>
</ol>
</li>
<li><h4 id="屏幕旋转"><a href="#屏幕旋转" class="headerlink" title="屏幕旋转"></a>屏幕旋转</h4><ol>
<li><p>不做任何处理</p>
<p>当前activity会onDestory—》onCreate。</p>
</li>
<li><p>设置固定的屏幕方向</p>
<p><code>android:screenOrientation=`</code>“landscape”<code></code>//横屏`</p>
<p><code>android:screenOrientation=`</code>“portrait”<code></code>//竖屏`</p>
</li>
<li><p>强制开启屏幕旋转效果</p>
<p>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_FULL_SENSOR);</p>
</li>
<li><p>屏幕旋转不希望activity重建</p>
<p><code>android:configChanges=`</code>“orientation|screenSize”`</p>
<p>重载函数onConfigurationChanged</p>
</li>
</ol>
</li>
<li><h4 id="获取屏幕方向"><a href="#获取屏幕方向" class="headerlink" title="获取屏幕方向"></a>获取屏幕方向</h4><p>getWindowManager().getDefaultDisplay().getRotation();</p>
<p>Surface.ROTATION_0，Surface.ROTATION_90，Surface.ROTATION_180，Surface.ROTATION_270</p>
<p>其中，Surface.ROTATION_0 表示的是手机竖屏方向向上，后面几个以此为基准依次以顺时针90度递增。</p>
<p>这种方法的bug：它只能一次旋转90度，如果你突然一下子旋转180度，onConfigurationChanged函数不会被调用。</p>
<p>如果要判断屏幕旋转的每一个角度，使用OrientationEventListener。</p>
</li>
<li><h4 id="fragment中的setUserVisibleHint方法"><a href="#fragment中的setUserVisibleHint方法" class="headerlink" title="fragment中的setUserVisibleHint方法"></a>fragment中的setUserVisibleHint方法</h4><p>fragment显示隐藏的回调方法，显示隐藏是指在屏幕上是否可见，并且只有在Viewpager和fragment配合使用时才会调用，调用时机要先于onCreate方法；</p>
<p>和onHiddenChanged的区别：onHiddenChanged方法是在调用fragmentManager.hide()和show()之后才调用。</p>
</li>
<li><h4 id="setOffscreenPageLimit-int-limit"><a href="#setOffscreenPageLimit-int-limit" class="headerlink" title="setOffscreenPageLimit(int limit)"></a>setOffscreenPageLimit(int limit)</h4><p>limit默认是1，不能小于1。</p>
</li>
<li><h4 id="判断当前线程是否是主线程"><a href="#判断当前线程是否是主线程" class="headerlink" title="判断当前线程是否是主线程"></a>判断当前线程是否是主线程</h4><p>通过loop判断</p>
<p>Looper.myLoop() == Looper.getMainLooper();</p>
<p>通过thread判断</p>
<p>Thread.currentThread() == Looper.getMainLooper().getThread();</p>
</li>
<li><h4 id="Git提交日志规范"><a href="#Git提交日志规范" class="headerlink" title="Git提交日志规范"></a>Git提交日志规范</h4><p>在日志之前加上”Fix”, “Add”, “Change”字眼。</p>
</li>
<li><h4 id="Looper"><a href="#Looper" class="headerlink" title="Looper"></a>Looper</h4><p>每一个线程中都可以创建一个looper对象。</p>
</li>
<li><h4 id="猴子测试"><a href="#猴子测试" class="headerlink" title="猴子测试"></a>猴子测试</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p your.package.name -v 500</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="setTranslateX"><a href="#setTranslateX" class="headerlink" title="setTranslateX"></a>setTranslateX</h4><p>setTranslateX等方法会引起view重新绘制</p>
</li>
<li><h4 id="parcelable"><a href="#parcelable" class="headerlink" title="parcelable"></a>parcelable</h4><p>被传递的parcelable对象里面还包含对象的话，也要实现parcelable接口</p>
</li>
</ul>
<ul>
<li><h4 id="FragmentPagerAdapter的问题"><a href="#FragmentPagerAdapter的问题" class="headerlink" title="FragmentPagerAdapter的问题"></a>FragmentPagerAdapter的问题</h4><p>viewpager重新设置adapter得时候，fragment数据不会刷新，原因是之前的fragment没有销毁而被复用；解决办法是在刷新之前先在adapter中把之前缓存的fragmen销毁。</p>
</li>
</ul>
<ul>
<li><h4 id="判断activity是否被销毁"><a href="#判断activity是否被销毁" class="headerlink" title="判断activity是否被销毁"></a>判断activity是否被销毁</h4><p>三个条件：activity == null，activity.isFinishing() == true，activity.isDestoryed() == true（api17以上才能用），getsupportFragmentManager().isDestoryed() == true（api17一下也可用）</p>
</li>
</ul>
<ul>
<li><h4 id="横屏activity快速finish会引起上一个activity重建"><a href="#横屏activity快速finish会引起上一个activity重建" class="headerlink" title="横屏activity快速finish会引起上一个activity重建"></a>横屏activity快速finish会引起上一个activity重建</h4><p>两个activity，第一个竖屏，第二个横屏，在创建第二activity之后立即finish返回第一个activity，第一个activity会重新oncreat，未找到具体原因。</p>
</li>
<li><h4 id="fragment-startActivity隐患"><a href="#fragment-startActivity隐患" class="headerlink" title="fragment startActivity隐患"></a>fragment startActivity隐患</h4><p>fragment宿主activity会出现null的情况，换用fragment.getContext之后还是会出现null的情况。</p>
</li>
<li><h4 id="list在遍历的过程中进行增删操作"><a href="#list在遍历的过程中进行增删操作" class="headerlink" title="list在遍历的过程中进行增删操作"></a>list在遍历的过程中进行增删操作</h4><p>不能使用for循环和forEach循环会出现，因为在循环过程中增加或删除元素会影响源数据；应使用Itarator。</p>
</li>
<li><h4 id="ViewPager-onTouch遇到的问题"><a href="#ViewPager-onTouch遇到的问题" class="headerlink" title="ViewPager onTouch遇到的问题"></a>ViewPager onTouch遇到的问题</h4><p>需求：想要捕获down，move，up事件，首先使用setOntouchLisetener，发现不能捕获down事件，因为down事件已经被childView消费掉；然后换用onIntercepterTouchEvent，不能捕获up事件，因为onIntercepterTouchEvent已经拦截了横向move事件，所以不会再拦截up事件；得出结论：继承ViewPager，重写dispatchTouchEvent事件，dispatchTouchEvent中有完整的一系列事件。</p>
</li>
<li><h4 id="exoPlayer导入问题"><a href="#exoPlayer导入问题" class="headerlink" title="exoPlayer导入问题"></a>exoPlayer导入问题</h4><p>在导入exoPlayer库的时候发现其依赖于appcompat-v7:25.4.0，该库需要从<a href="https://maven.google.com仓库中下载，所以要在应用gradle配置文件中声明：" target="_blank" rel="noopener">https://maven.google.com仓库中下载，所以要在应用gradle配置文件中声明：</a></p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        jcenter()</span><br><span class="line">        maven &#123;</span><br><span class="line">            url <span class="string">"https://maven.google.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="华为7-0meidaPlayer-频现outOfMemory"><a href="#华为7-0meidaPlayer-频现outOfMemory" class="headerlink" title="华为7.0meidaPlayer 频现outOfMemory"></a>华为7.0meidaPlayer 频现outOfMemory</h4><p>在使用mediaPlayer播放超过20m的视频时，会出现缓冲80%左右停止缓冲并抛异常的情况（必现）；华为7.0经常因outOfMemory崩溃，google后发现应该是系统bug。</p>
</li>
<li><h4 id="接口中不能使用静态方法"><a href="#接口中不能使用静态方法" class="headerlink" title="接口中不能使用静态方法"></a>接口中不能使用静态方法</h4></li>
<li><h4 id="getHitRect-getDrawingRect-getFocusedRect区别"><a href="#getHitRect-getDrawingRect-getFocusedRect区别" class="headerlink" title="getHitRect,getDrawingRect,getFocusedRect区别"></a>getHitRect,getDrawingRect,getFocusedRect区别</h4><p>view.getHitRect获取到的rect的坐标是相对于parentView的；getDrawingRect和getFocusedRect获取到rect的坐标是相对于view自己left和top肯定为0；</p>
</li>
<li><h4 id="dialog-show不会触发Activity的onPause方法"><a href="#dialog-show不会触发Activity的onPause方法" class="headerlink" title="dialog.show不会触发Activity的onPause方法"></a>dialog.show不会触发Activity的onPause方法</h4></li>
<li><h4 id="getLeft-getX-getTranslationX的区别"><a href="#getLeft-getX-getTranslationX的区别" class="headerlink" title="getLeft,getX,getTranslationX的区别"></a>getLeft,getX,getTranslationX的区别</h4><p>getLeft：距离parentView左边界的距离，setTranslationX之后该值不会改变。</p>
<p>getX：距离parentView左边界的距离，setTranslationX之后该值等于getLeft+getTranslationX</p>
<p>getTranslationX：setTranslationX移动的距离</p>
</li>
<li><h4 id="setTranslationX不会引起parentView重新layout"><a href="#setTranslationX不会引起parentView重新layout" class="headerlink" title="setTranslationX不会引起parentView重新layout"></a>setTranslationX不会引起parentView重新layout</h4></li>
<li><h4 id="drawable的缩放"><a href="#drawable的缩放" class="headerlink" title="drawable的缩放"></a>drawable的缩放</h4><p>先把drawable转化为bitmap，对bitmap进行缩放，再转回drawable。</p>
</li>
<li><h4 id="canvas-setLayer"><a href="#canvas-setLayer" class="headerlink" title="canvas.setLayer"></a>canvas.setLayer</h4><p>创建新的透明图层，在新的图层上绘制不会直接绘制到屏幕上，而会在restroe之后绘制到上一个图层或者屏幕上；为什么需要一个新的图层，例如使用xfermMode的时候原canvas上的图（包括背景）会影响到src和dst的合成；又例如需要在图层上绘制几个带有透明图的图形，那么可以创建一个带有透明度的图层。</p>
</li>
<li><h4 id="abi问题"><a href="#abi问题" class="headerlink" title="abi问题"></a>abi问题</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">splits &#123;</span><br><span class="line">        abi &#123;</span><br><span class="line">            enable <span class="literal">true</span></span><br><span class="line">            reset()</span><br><span class="line">            include <span class="string">'armeabi'</span></span><br><span class="line">            universalApk <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>enable默认为false，enable后面的语句都不执行；enable为false时打包只会生成一个apk，apk中包含所有类型的指令集文件夹；enable为true时会根据include中的指令集列表生成多个apk；universalApk默认为false，为true时会多生成一个包含所有指令集文件夹的apk；</p>
</li>
<li><p>####onResume时会再次执行onDraw</p>
</li>
<li><p>####checked的使用</p>
<p>textView和imageView本身是不具备checked功能的，可实现Checkable接口加上checked功能；实现Checkable典型代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span>[] CHECK_STATE = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;android.R.attr.state_checked&#125;;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span>[] onCreateDrawableState(<span class="keyword">int</span> extraSpace) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] states = <span class="keyword">super</span>.onCreateDrawableState(extraSpace + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (isChecked()) &#123;</span><br><span class="line">            mergeDrawableStates(states, CHECK_STATE);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> states;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setChecked</span><span class="params">(<span class="keyword">boolean</span> checked)</span> </span>&#123;</span><br><span class="line">        mChecked = checked;</span><br><span class="line">        refreshDrawableState();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isChecked</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mChecked;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">toggle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        setChecked(!mChecked);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>多说两句自定义drawable state的问题，类似实现checked：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">declare-styleable</span> <span class="attr">name</span>=<span class="string">"MessageStatus"</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">attr</span> <span class="attr">name</span>=<span class="string">"state_message_readed"</span> <span class="attr">format</span>=<span class="string">"boolean"</span> /&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">declare-styleable</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span>[] STATE_MESSAGE_READED = &#123; R.attr.state_message_readed &#125;;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMessageReaded</span><span class="params">(<span class="keyword">boolean</span> readed)</span>  </span></span><br><span class="line"><span class="function">    </span>&#123;  </span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.mMessgeReaded != readed)  </span><br><span class="line">        &#123;  </span><br><span class="line">            mMessgeReaded = readed;  </span><br><span class="line">            refreshDrawableState();  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Override</span>  </span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span>[] onCreateDrawableState(<span class="keyword">int</span> extraSpace)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span> (mMessgeReaded)  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">final</span> <span class="keyword">int</span>[] drawableState = <span class="keyword">super</span>  </span><br><span class="line">                    .onCreateDrawableState(extraSpace + <span class="number">1</span>);  </span><br><span class="line">            mergeDrawableStates(drawableState, STATE_MESSAGE_READED);  </span><br><span class="line">            <span class="keyword">return</span> drawableState;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onCreateDrawableState(extraSpace);  </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><h4 id="resource-gt-gt-color文件夹下的selector文件只能针对有color属性的view"><a href="#resource-gt-gt-color文件夹下的selector文件只能针对有color属性的view" class="headerlink" title="resource&gt;&gt;color文件夹下的selector文件只能针对有color属性的view"></a>resource&gt;&gt;color文件夹下的selector文件只能针对有color属性的view</h4></li>
<li><p>####view默认是不能点击的，即clickable为false</p>
</li>
<li><p>####performClick中执行了onClickListener回调方法</p>
</li>
<li><p>####TextWatcher会监听TextView的变化</p>
</li>
<li><p>####setTintMode,setTint</p>
<p>tint顾名思义色彩，setTintMode和setTint一般配合bitmapDrawable一起使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Bitmap bitmap = BitmapFactory.decodeFile(picFile.getAbsolutePath());</span><br><span class="line">BitmapDrawable bitmapDrawable = <span class="keyword">new</span> BitmapDrawable(getResources(), bitmap);</span><br><span class="line"><span class="comment">//        bitmapDrawable.setTintMode(PorterDuff.Mode.SRC_IN);</span></span><br><span class="line"><span class="comment">//        bitmapDrawable.setTint(Color.RED);</span></span><br><span class="line">DrawableCompat.setTintMode(bitmapDrawable, PorterDuff.Mode.DST_ATOP);</span><br><span class="line">DrawableCompat.setTint(bitmapDrawable, Color.RED);</span><br><span class="line">imageView.setImageDrawable(bitmapDrawable);</span><br></pre></td></tr></table></figure>
<p>使用场景：一张图片需要在应用中展示多种颜色，可通过该方式给图片换颜色。</p>
<p>tip：setTintMode和setTint方法是api21才加的，推荐使用DrawableCompat.setTintMode。</p>
</li>
<li><p>####bitmapShader</p>
<p>图片着色器，一般配合paint使用，典型代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mBitmap = BitmapFactory.decodeFile(picFile.getAbsolutePath());</span><br><span class="line">mPaint = <span class="keyword">new</span> Paint();</span><br><span class="line">BitmapShader bitmapShader = <span class="keyword">new</span> BitmapShader(mBitmap, Shader.TileMode.REPEAT, 										Shader.TileMode.REPEAT);</span><br><span class="line">mPaint.setShader(bitmapShader);</span><br><span class="line"></span><br><span class="line">canvas.drawCircle(x, y, radius, mPaint);</span><br></pre></td></tr></table></figure>
<p>使用场景：绘制圆角图片或圆形图片等特殊形状图片。</p>
</li>
<li><p>####colorFilter</p>
<p>有三个子类：colorMatrixColorFilter，LightingColorFilter，PortDuffColorFilter；掌握colorFilter的使用需先掌握矩阵运算。</p>
<p>使用场景：给图片加滤镜。</p>
</li>
<li><p>####启动应用白屏</p>
<p>先定义一个layerDrawable，再设置给activity的主题style中的背景属性。</p>
</li>
<li><p>####硬件加速导致的问题</p>
<p>硬件加速能使用GPU来加速2D图片的渲染，但硬件加速并不能完全支持所有的渲染操作，比较复杂的自定义View可能会导致硬件加速渲染出错；硬件加速是api11之后才有，api14之后硬件加速是默认开启的</p>
<p>硬件加速开关</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">application</span> <span class="attr">android:hardwareAccelerated</span>=<span class="string">"true"</span> <span class="attr">...</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">application</span> <span class="attr">android:hardwareAccelerated</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">...</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:hardwareAccelerated</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line"></span><br><span class="line">getWindow().setFlags(</span><br><span class="line">    WindowManager.LayoutParams.FLAG_HARDWARE_ACCELERATED,</span><br><span class="line">    WindowManager.LayoutParams.FLAG_HARDWARE_ACCELERATED);</span><br><span class="line">    </span><br><span class="line">myView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"fill_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingLeft</span>=<span class="string">"2dp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layerType</span>=<span class="string">"software"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingRight</span>=<span class="string">"2dp"</span> &gt;</span></span><br></pre></td></tr></table></figure>
<p>判断是否开启了硬件加速</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">View.isHardwareAccelerated()</span><br><span class="line">Canvas.isHardwareAccelerated()</span><br></pre></td></tr></table></figure>
</li>
<li><p>###转场动画</p>
<p>前提条件：</p>
<p>1.在style中启用内容转换</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"android:windowContentTransitions"</span>&gt;</span>true<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>或者在acitivity2代码中启用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getWindow().requestFeature(Window.FEATURE_CONTENT_TRANSITIONS);</span><br></pre></td></tr></table></figure>
<p>activity1不用开启。</p>
<p>2.利用 <code>android:transitionName</code> 属性对两个布局中的共享元素指定一个通用名称。</p>
<p>3.使用 <code>ActivityOptions.makeSceneTransitionAnimation()</code> 方法，第三个参数要和2中的transitionName保持一致。</p>
<p>注意：</p>
<h6 id="如果使用共享元素动画一定要开启硬件加速（真的坑，花了一下午才发现这个问题，官方文档都作说明）；"><a href="#如果使用共享元素动画一定要开启硬件加速（真的坑，花了一下午才发现这个问题，官方文档都作说明）；" class="headerlink" title="如果使用共享元素动画一定要开启硬件加速（真的坑，花了一下午才发现这个问题，官方文档都作说明）；"></a>如果使用共享元素动画一定要开启硬件加速（真的坑，花了一下午才发现这个问题，官方文档都作说明）；</h6></li>
<li><p>###</p>
</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/17/2017-03-17-TableLayout-question/" rel="next" title="使用TableLayout遇到的坑">
                <i class="fa fa-chevron-left"></i> 使用TableLayout遇到的坑
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/03/17/2017-03-17-optimize-launch-time/" rel="prev" title="优化应用启动时间">
                优化应用启动时间 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div class="ds-thread" data-thread-key="2017/03/17/2017-03-17-note/"
           data-title="零碎问题笔记，长期更新" data-url="http://yoursite.com/2017/03/17/2017-03-17-note/">
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="henry" />
            
              <p class="site-author-name" itemprop="name">henry</p>
              <p class="site-description motion-element" itemprop="description">吾生也有涯，而知也无涯</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#禁用activity跳转动画的几种方式"><span class="nav-number">1.</span> <span class="nav-text">禁用activity跳转动画的几种方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getDimension-、getDimensionPixelOffset-和getDimensionPixelSize-区别"><span class="nav-number">2.</span> <span class="nav-text">getDimension()、getDimensionPixelOffset()和getDimensionPixelSize()区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mac复制路径"><span class="nav-number">3.</span> <span class="nav-text">mac复制路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#修改环境变量"><span class="nav-number">4.</span> <span class="nav-text">修改环境变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#华为手机不打印log"><span class="nav-number">5.</span> <span class="nav-text">华为手机不打印log</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Fragment中的onHiddenChanged方法"><span class="nav-number">6.</span> <span class="nav-text">Fragment中的onHiddenChanged方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Fragment中dialog-dismiss时onResume问题"><span class="nav-number">7.</span> <span class="nav-text">Fragment中dialog dismiss时onResume问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PopupWindow实现点击外部不消失，且不占据焦点"><span class="nav-number">8.</span> <span class="nav-text">PopupWindow实现点击外部不消失，且不占据焦点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#onDraw方法中最好不要创建对象"><span class="nav-number">9.</span> <span class="nav-text">onDraw方法中最好不要创建对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Fragment嵌套使用"><span class="nav-number">10.</span> <span class="nav-text">Fragment嵌套使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Retrofit和RxJava并用时需要注意的一点"><span class="nav-number">11.</span> <span class="nav-text">Retrofit和RxJava并用时需要注意的一点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Fragment事务处理commitAllowingStateLoss和commit"><span class="nav-number">12.</span> <span class="nav-text">Fragment事务处理commitAllowingStateLoss和commit</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Activity和Fragment传递对象"><span class="nav-number">13.</span> <span class="nav-text">Activity和Fragment传递对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RxJava异常处理"><span class="nav-number">14.</span> <span class="nav-text">RxJava异常处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#lint检查new-api"><span class="nav-number">15.</span> <span class="nav-text">lint检查new api</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取手机系统SDK版本"><span class="nav-number">16.</span> <span class="nav-text">获取手机系统SDK版本</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Dialog和DialogFragment的区别"><span class="nav-number">17.</span> <span class="nav-text">Dialog和DialogFragment的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置全屏的方法"><span class="nav-number">18.</span> <span class="nav-text">设置全屏的方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#屏幕旋转"><span class="nav-number">19.</span> <span class="nav-text">屏幕旋转</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#获取屏幕方向"><span class="nav-number">20.</span> <span class="nav-text">获取屏幕方向</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fragment中的setUserVisibleHint方法"><span class="nav-number">21.</span> <span class="nav-text">fragment中的setUserVisibleHint方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#setOffscreenPageLimit-int-limit"><span class="nav-number">22.</span> <span class="nav-text">setOffscreenPageLimit(int limit)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#判断当前线程是否是主线程"><span class="nav-number">23.</span> <span class="nav-text">判断当前线程是否是主线程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Git提交日志规范"><span class="nav-number">24.</span> <span class="nav-text">Git提交日志规范</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Looper"><span class="nav-number">25.</span> <span class="nav-text">Looper</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#猴子测试"><span class="nav-number">26.</span> <span class="nav-text">猴子测试</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#setTranslateX"><span class="nav-number">27.</span> <span class="nav-text">setTranslateX</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#parcelable"><span class="nav-number">28.</span> <span class="nav-text">parcelable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FragmentPagerAdapter的问题"><span class="nav-number">29.</span> <span class="nav-text">FragmentPagerAdapter的问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#判断activity是否被销毁"><span class="nav-number">30.</span> <span class="nav-text">判断activity是否被销毁</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#横屏activity快速finish会引起上一个activity重建"><span class="nav-number">31.</span> <span class="nav-text">横屏activity快速finish会引起上一个activity重建</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fragment-startActivity隐患"><span class="nav-number">32.</span> <span class="nav-text">fragment startActivity隐患</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#list在遍历的过程中进行增删操作"><span class="nav-number">33.</span> <span class="nav-text">list在遍历的过程中进行增删操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ViewPager-onTouch遇到的问题"><span class="nav-number">34.</span> <span class="nav-text">ViewPager onTouch遇到的问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#exoPlayer导入问题"><span class="nav-number">35.</span> <span class="nav-text">exoPlayer导入问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#华为7-0meidaPlayer-频现outOfMemory"><span class="nav-number">36.</span> <span class="nav-text">华为7.0meidaPlayer 频现outOfMemory</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#接口中不能使用静态方法"><span class="nav-number">37.</span> <span class="nav-text">接口中不能使用静态方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getHitRect-getDrawingRect-getFocusedRect区别"><span class="nav-number">38.</span> <span class="nav-text">getHitRect,getDrawingRect,getFocusedRect区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#dialog-show不会触发Activity的onPause方法"><span class="nav-number">39.</span> <span class="nav-text">dialog.show不会触发Activity的onPause方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getLeft-getX-getTranslationX的区别"><span class="nav-number">40.</span> <span class="nav-text">getLeft,getX,getTranslationX的区别</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#setTranslationX不会引起parentView重新layout"><span class="nav-number">41.</span> <span class="nav-text">setTranslationX不会引起parentView重新layout</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#drawable的缩放"><span class="nav-number">42.</span> <span class="nav-text">drawable的缩放</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#canvas-setLayer"><span class="nav-number">43.</span> <span class="nav-text">canvas.setLayer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#abi问题"><span class="nav-number">44.</span> <span class="nav-text">abi问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#resource-gt-gt-color文件夹下的selector文件只能针对有color属性的view"><span class="nav-number">45.</span> <span class="nav-text">resource&gt;&gt;color文件夹下的selector文件只能针对有color属性的view</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#如果使用共享元素动画一定要开启硬件加速（真的坑，花了一下午才发现这个问题，官方文档都作说明）；"><span class="nav-number">45.0.1.</span> <span class="nav-text">如果使用共享元素动画一定要开启硬件加速（真的坑，花了一下午才发现这个问题，官方文档都作说明）；</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">henry</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"henry-newbie"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  


















  





  

  

  

  
  

  

  

  

</body>
</html>
